<!DOCTYPE html>
<html lang="en">
    <head>
        
        <!-- Bootstrap Setup -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="ROBOTS" content="INDEX,FOLLOW">
        <meta name="description" content="Math is neat and e pops up in weird places.">
        <meta name="keywords" content="blog, code, developer, programming, learning, teaching, dev, Ryan, Ryan Palo, math, fun, python">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="assert_not magic? | E for Everywhere">
        <meta name="twitter:site" content="@paytastic">
        <meta name="twitter:description" content="Math is neat and e pops up in weird places.">
        <meta name="twitter:image" content="http://assertnotmagic.com/img/treble-e.png">
        <meta name="twitter:creator" content="@paytastic">
        <meta name="og:url" content="http://assertnotmagic.com/2017/10/28/e-for-everywhere/">
        <meta name="og:title" content="assert_not magic? | E for Everywhere">
        <meta name="og:description" content="Math is neat and e pops up in weird places.">
        <meta name="og:image" content="http://assertnotmagic.com/img/treble-e.png">

        <!-- Favicon settings -->
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/manifest.json">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#222222">
        <meta name="theme-color" content="#ffffff">
        
        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">
        
        <title>assert_not magic?</title>
    </head>
    <body>
        
<nav id="main-nav">
    <a href="/" class="mobile-home">assert_not magic?</a>
    <ul>
        <li class="logo"><a href="/">assert_not magic?</a></li>
        <li><a href="/posts/">All Posts</a></li>
        <li><a href="/about/">About</a></li>
        <li><a href="/sketches/">Sketches</a></li>
        <li><a href="/todo/">TODO</a></li>
        <li><a href="/uses/">Uses</a></li>
    </ul>
</nav>
        <div class="container main">
                <article class="site-wrap">
    <div id="cover">
        
        <img alt="Cover Image" class="cover-image" src="/img/treble-e.png">
        
    </div>
    <h1>E for Everywhere</h1>
    <p>I just learned something new and it prompted me to want to share it (and a whole bunch of other things).  Let’s talk about the letter <code class="highlighter-rouge">e</code>.  This post will have a little bit of math in it, but I’ll try to make those parts painless enough to keep you with me.</p>

<h2 id="e">e</h2>

<p><code class="highlighter-rouge">e</code> is a mathmatical constant (like <code class="highlighter-rouge">pi</code>) that crops up a lot of places.</p>

<script type="math/tex; mode=display">e = 2.71828182845904523536028747135266249775724709369995</script>

<p>Like <code class="highlighter-rouge">pi</code>, it’s a number that is <em>irrational</em>, meaning that its decimal places never end and never repeat (go into an infinite loop).</p>

<p>“Blah blah blah blah,” you say – eloquently, I might add.  “All I hear is blah blah math letters-that-are-really-numbers blah.  Why are you bothering me about this <code class="highlighter-rouge">e</code>?”</p>

<p>I want to tell you about it, because, even though it doesn’t get the kind of press that <code class="highlighter-rouge">pi</code> does (not to mention <code class="highlighter-rouge">phi</code> – the golden ratio), it shows up everywhere you look and helps us with all kinds of statistics, finance, and more!  I’m writing this post to show off a couple of the ways that <code class="highlighter-rouge">e</code> works behind the scenes.</p>

<h2 id="something-interesting-and-practical">Something Interesting and Practical</h2>

<p>Let’s talk about <strong>interest</strong>.  Like bank interest!  Like investment stocks interest.  You ever wonder how that was calculated?  Here’s the interest equation:</p>

<script type="math/tex; mode=display">A = P(1 + \frac{r}{n})^n</script>

<p>Where:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>A is the future value of your money.

P is the present value of your money.

r is the interest rate over the time period you care about (usually a year, in practice).

n is the number of times you compound your interest over the time period.
</code></pre>
</div>

<p>For example, if you put $100 into a bank for a year, and the bank provided a 7% (or .07) interest rate over that time, <em>and</em> the bank only compounded your interest one time (which they sometimes do), after one year, you’d end up with:</p>

<script type="math/tex; mode=display">100(1 + \frac{.07}{1})^{1} = 107</script>

<p>This is as expected, because we already said you’re getting 7% yearly interest (also known as APR), and 7% of 100 is 7, so getting $107 at the end of the year should hopefully seem reasonable.</p>

<p>But some banks compound your interest every month!  Check your bank statement – yours probably does!  What does that look like?</p>

<script type="math/tex; mode=display">100(1 + \frac{.07}{12})^{12} = 107.23</script>

<p>WHAAAAAAT?  You just got an extra $0.25, simply by doing some math 12 times a year instead of once at the end.  You squint at me skeptically, and ask, “Does that pattern continue like that?”  Let’s try it!  Let’s compound once a day.</p>

<script type="math/tex; mode=display">100(1 + \frac{.07}{365})^{365} = 107.25</script>

<p>Yep!  Kind of.  Definitely not as much increase, and we’re compounding waaaay more.  Let’s really amp up the compounding and see what happens.</p>

<p>Actually, let’s simplify our life a little bit first to make the math easy:</p>

<ol>
  <li>Let’s assume we’re starting with just $1.</li>
  <li>Let’s assume our interest rate is 100% (i.e. 1).  Thus compounding yearly, we would double our money.</li>
</ol>

<p>Now let’s see what our pattern looks like.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">r</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">p</span> <span class="o">=</span> <span class="mf">1.0</span>

<span class="k">def</span> <span class="nf">compound</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="s">"""Calculates interest after one time period (e.g. a year).
    p: float - initial money amount
    r: float - interest rate over the time period
    n: int - number of times we compound
    returns float - amount of money after one time period
    """</span>
    <span class="k">return</span> <span class="n">p</span><span class="o">*</span><span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="n">r</span><span class="o">/</span><span class="n">n</span><span class="p">)</span><span class="o">**</span><span class="n">n</span><span class="p">)</span>

<span class="n">result_data</span> <span class="o">=</span> <span class="p">[</span><span class="n">compound</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)]</span>

</code></pre>
</div>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">result_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre>
</div>

<p><img src="/img/e-interest.png" alt="Result of Interest experiment" /></p>

<p>You can see that with 1 compound, we get 100% return, just like we planned.  Start with $1, end up with $2.  And as we compound more and more, we see it go up by quite a bit and then the gains start to level off.  But wait.  What number are the gains leveling off at?</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">e</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>  <span class="c"># Plot horizontal line at 2.71828...</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">result_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre>
</div>

<p><img src="/img/e-interest-with-line.png" alt="Result of Interest experiment with line at e" /></p>

<p>OH SNAP, IT’S E.  As we approach higher and higher frequency of compounding, we approach a return amount of E.  This is where the concept of <strong>continuously compounding interest</strong> comes from.</p>

<p>So we’ve found <code class="highlighter-rouge">e</code> once.  Let’s do another.</p>

<h2 id="factorials-and-e">Factorials and e</h2>

<p>If you’ve read any of my other blog posts, you’re probably sick and tired of factorials.  Well, that’s too bad.  Let’s combine them with fractions and see what we can come up with.</p>

<script type="math/tex; mode=display">\frac{1}{0!} = \frac{1}{1} = 1</script>

<script type="math/tex; mode=display">\frac{1}{1!} = \frac{1}{1} = 1</script>

<script type="math/tex; mode=display">\frac{1}{2!} = \frac{1}{2 * 1} = .5</script>

<script type="math/tex; mode=display">\frac{1}{3!} = \frac{1}{3 * 2 * 1} = 0.16666</script>

<p>Where am I going with this?  Let’s add them up and see.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">factorial</span>

<span class="k">def</span> <span class="nf">sum_of_factorial_fractions</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="s">"""Calculates the sum of 1/0! + 1/1! + 1/2! ... 1/n!"""</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">factorial</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
               
<span class="n">results2</span> <span class="o">=</span> <span class="p">[</span><span class="n">sum_of_factorial_fractions</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results2</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">"The last result:"</span><span class="p">,</span> <span class="n">results2</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</code></pre>
</div>

<p><img src="/img/e-factorials.png" alt="Result of Factorials experiment" /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>The last result: 2.7182815255731922
</code></pre>
</div>

<p>A;LSDKJF;ALKJSDFJSDLKFJEIVLENNVOIEJ.</p>

<h3 id="e-1">E</h3>

<p>(approximately).</p>

<p>Let’s do one more: my favorite one.</p>

<h2 id="random-e">Random E</h2>

<p>This one comes courtesy of <a href="https://twitter.com/fermatslibrary">Fermat’s Library on Twitter</a>.  Pick a random number between 0 and 1.  Keep picking numbers and adding them until the sum is greater than 1.  For example:</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>0.185263666584764
</code></pre>
</div>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">x</span> <span class="o">+=</span> <span class="n">random</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>0.5797470876977189
</code></pre>
</div>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="n">x</span> <span class="o">+=</span> <span class="n">random</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>1.2821236982804123
</code></pre>
</div>

<p>Alright!  We’re now greater than 1, and it took us 3 rolls to get there.  Let’s do that a ton of times and see what the average number of rolls is.</p>

<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">rolls_to_greater_than_n</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="s">"""Rolls a random number between 0 and 1 and adds them up
    until the sum is greater than n.  Returns the number of rolls it took.
    """</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">rolls</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">total</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
        <span class="n">total</span> <span class="o">+=</span> <span class="n">random</span><span class="p">()</span>
        <span class="n">rolls</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">rolls</span>

<span class="k">def</span> <span class="nf">roll_experiment_avg</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">times</span><span class="p">):</span>
    <span class="s">"""Performs the rolls_to_greater_than_n 'times' times.
    Returs the average number of rolls it took."""</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">rolls_to_greater_than_n</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">times</span><span class="p">))</span><span class="o">/</span><span class="n">times</span>

<span class="n">results3</span> <span class="o">=</span> <span class="p">[</span><span class="n">roll_experiment_avg</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">results3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10000</span><span class="p">),</span> <span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>  <span class="c"># Line representing e for reference.</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s">"The last result was"</span><span class="p">,</span> <span class="n">results3</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</code></pre>
</div>

<p><img src="/img/e-random.png" alt="Results of Random experiment" /></p>

<div class="highlighter-rouge"><pre class="highlight"><code>The last result was 2.712271227122712
</code></pre>
</div>

<p>This one definitely is converging a lot slower, <a href="https://twitter.com/fermatslibrary/status/924263998589145090">but it does.  Math says so.</a></p>

<p>Anyways, this was kind of a long post about nothing, but I though that the way that <code class="highlighter-rouge">e</code> seems to pop up all over the place, even amidst factorials and random numbers, was pretty cool.  Let me know if you can think of any other cool ways to come up with <code class="highlighter-rouge">e</code>!</p>

    <small>
        Author: Ryan Palo | Tags: 
        
        <a href="/tags/math/">math</a>
        
        <a href="/tags/fun/">fun</a>
        
        <a href="/tags/python/">python</a>
        
    </small>

    <hr>

<!-- Footer for Homepage -->
  <div id="home-footer">
    <div id="left-home-footer">
      <!-- Featured Posts List -->
      <h2>Featured Posts</h2>
      <ul class="post-list">
        <li>
          <span class="post-meta">Jan 18, 2017</span><br />
          <a class="post-link" href="/2017/01/18/assert-not-magic/">Assert Not Magic</a>
        </li>
        
          <li>
            <span class="post-meta">Oct 25, 2017</span><br/>
            <a class="post-link" href="/2017/10/25/accelerated-vimprovement/">Accelerated Vim-Provement</a>
          </li>
        
          <li>
            <span class="post-meta">Oct 16, 2017</span><br/>
            <a class="post-link" href="/2017/10/16/secret-message/">Secret Message</a>
          </li>
        
          <li>
            <span class="post-meta">Oct 9, 2017</span><br/>
            <a class="post-link" href="/2017/10/09/p5-part-3-rainbow-collections/">Learn to Code, Part 3 - Rainbow Collections</a>
          </li>
        
      </ul>
    </div>
    <div id="center-home-footer">
      <!-- Spacer -->
    </div>
    <div id="right-home-footer">
      <!-- Tags List -->
      <h2>Tags</h2>
      <p>
        
        <a href="/tags/python/" style="font-size: 54px">python | </a>
        
        <a href="/tags/django/" style="font-size: 22px">django | </a>
        
        <a href="/tags/rails/" style="font-size: 14px">rails | </a>
        
        <a href="/tags/algorithms/" style="font-size: 20px">algorithms | </a>
        
        <a href="/tags/editors/" style="font-size: 16px">editors | </a>
        
        <a href="/tags/emacs/" style="font-size: 16px">emacs | </a>
        
        <a href="/tags/ai/" style="font-size: 14px">ai | </a>
        
        <a href="/tags/r/" style="font-size: 14px">r | </a>
        
        <a href="/tags/tools/" style="font-size: 16px">tools | </a>
        
        <a href="/tags/javascript/" style="font-size: 20px">javascript | </a>
        
        <a href="/tags/not_magic/" style="font-size: 14px">not_magic | </a>
        
        <a href="/tags/soft-skills/" style="font-size: 22px">soft-skills | </a>
        
        <a href="/tags/tricks/" style="font-size: 28px">tricks | </a>
        
        <a href="/tags/vscode/" style="font-size: 14px">vscode | </a>
        
        <a href="/tags/vim/" style="font-size: 16px">vim | </a>
        
        <a href="/tags/sublime/" style="font-size: 14px">sublime | </a>
        
        <a href="/tags/puzzle/" style="font-size: 18px">puzzle | </a>
        
        <a href="/tags/bash/" style="font-size: 16px">bash | </a>
        
        <a href="/tags/math/" style="font-size: 16px">math | </a>
        
        <a href="/tags/teaching/" style="font-size: 16px">teaching | </a>
        
        <a href="/tags/ruby/" style="font-size: 22px">ruby | </a>
        
        <a href="/tags/jekyll/" style="font-size: 14px">jekyll | </a>
        
        <a href="/tags/git/" style="font-size: 16px">git | </a>
        
        <a href="/tags/physics/" style="font-size: 14px">physics | </a>
        
        <a href="/tags/fun/" style="font-size: 18px">fun | </a>
        
        <a href="/tags/scientific/" style="font-size: 14px">scientific | </a>
        
        <a href="/tags/pythonic/" style="font-size: 16px">pythonic | </a>
        
        <a href="/tags/functional/" style="font-size: 16px">functional | </a>
        
        <a href="/tags/vue/" style="font-size: 20px">vue | </a>
        
        <a href="/tags/es6/" style="font-size: 20px">es6 | </a>
        
        <a href="/tags/tutorial/" style="font-size: 26px">tutorial | </a>
        
        <a href="/tags/exercise/" style="font-size: 14px">exercise | </a>
        
        <a href="/tags/fitness/" style="font-size: 14px">fitness | </a>
        
        <a href="/tags/sysadmin/" style="font-size: 16px">sysadmin | </a>
        
        <a href="/tags/linux/" style="font-size: 14px">linux | </a>
        
        <a href="/tags/html/" style="font-size: 16px">html | </a>
        
        <a href="/tags/seo/" style="font-size: 14px">seo | </a>
        
        <a href="/tags/social/" style="font-size: 14px">social | </a>
        
        <a href="/tags/metaprogramming/" style="font-size: 14px">metaprogramming | </a>
        
        <a href="/tags/css/" style="font-size: 14px">css | </a>
        
        <a href="/tags/front-end/" style="font-size: 14px">front-end | </a>
        
        <a href="/tags/animations/" style="font-size: 14px">animations | </a>
        
        <a href="/tags/p5/" style="font-size: 18px">p5 | </a>
        
        <a href="/tags/beginner/" style="font-size: 18px">beginner | </a>
        
        <a href="/tags/encouragement/" style="font-size: 18px">encouragement | </a>
        
        <a href="/tags/not-magic/" style="font-size: 14px">not-magic | </a>
        
        <a href="/tags/screencast/" style="font-size: 14px">screencast | </a>
        
        <a href="/tags/showdev/" style="font-size: 14px">showdev | </a>
        
        <a href="/tags/interview/" style="font-size: 14px">interview | </a>
        
        <a href="/tags/performance/" style="font-size: 14px">performance | </a>
        
        <a href="/tags/editor/" style="font-size: 14px">editor | </a>
        
      </p>
    </div>
  </div>
  <hr>
  

  <p class="rss-subscribe contact">Like my stuff?  Have questions or feedback for me?  Want to mentor me or get my help with something?  <a href="/about/">Get in touch!</a>  To stay updated, subscribe <a href="/feed.xml">via RSS</a></p>



</article>
        </div>

        <footer id="main-footer">
    <div class="container">
        <p class="text-muted">&copy; Ryan Palo 2017 | All things.  Phil. 4:13</p>
    </div>
</footer>
        <!-- Scripts -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
        <script src="/js/main.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-91889165-1', 'auto');
            ga('send', 'pageview');

        </script>
        
    </body>
</html>