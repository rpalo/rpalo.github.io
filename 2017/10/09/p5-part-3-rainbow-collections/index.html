<!DOCTYPE html>
<html lang="en">
    <head>
        
        <!-- Bootstrap Setup -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="ROBOTS" content="INDEX,FOLLOW">
        <meta name="description" content="Part 3 in the learn-to-code using JavaScript and P5.js series.  Learn how collections like arrays and objects can amplify our coding power.">
        <meta name="keywords" content="blog, code, developer, programming, learning, teaching, dev, Ryan, Ryan Palo, p5, javascript, beginner, tutorial">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="assert_not magic? | Learn to Code, Part 3 - Rainbow Collections">
        <meta name="twitter:site" content="@paytastic">
        <meta name="twitter:description" content="Part 3 in the learn-to-code using JavaScript and P5.js series.  Learn how collections like arrays and objects can amplify our coding power.">
        <meta name="twitter:image" content="http://assertnotmagic.com/img/rainbow.jpg">
        <meta name="twitter:creator" content="@paytastic">
        <meta name="og:url" content="http://assertnotmagic.com/2017/10/09/p5-part-3-rainbow-collections/">
        <meta name="og:title" content="assert_not magic? | Learn to Code, Part 3 - Rainbow Collections">
        <meta name="og:description" content="Part 3 in the learn-to-code using JavaScript and P5.js series.  Learn how collections like arrays and objects can amplify our coding power.">
        <meta name="og:image" content="http://assertnotmagic.com/img/rainbow.jpg">

        <!-- Favicon settings -->
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/manifest.json">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#222222">
        <meta name="theme-color" content="#ffffff">

        <!-- Omnisearch -->
        <link rel="search" type="application/opensearchdescription+xml" title="search assert_not magic" href="/opensearch.xml">
        
        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">
        
        <title>assert_not magic?</title>
    </head>
    <body>
        
<nav id="main-nav">
    <a href="/" class="mobile-home">assert_not magic?</a>
    <ul>
        <li class="logo"><a href="/">assert_not magic?</a></li>
        <li><a href="/posts/">All Posts</a></li>
        <li><a href="/about/">About</a></li>
        <li><a href="/sketches/">Sketches</a></li>
        <li><a href="/todo/">TODO</a></li>
        <li><a href="/uses/">Uses</a></li>
    </ul>
</nav>
        <div class="container main">
                <article class="site-wrap">
    <div id="cover">
        
        <img alt="Cover Image" class="cover-image" src="/img/rainbow.jpg">
        
    </div>
    <h1>Learn to Code, Part 3 - Rainbow Collections</h1>
    <p><img src="/img/rainbow-final.gif" alt="Final Product" /></p>

<p>Back for Lesson 3?  Awesome!  Hopefully the gif above is enough motivation to get you through this lesson.  This time, we’ll build on what we have used before, and expand with two new concepts.  In the last lesson we learned about <strong>for-loops</strong>.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Programming is dope!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<p>For-loops are pretty powerful, but when you combine them with the new stuff that we’re going to learn this time — <strong>arrays</strong> and <strong>objects</strong> — you can really accomplish some big things.  And the basic <strong>objects</strong> that we’ll learn about are stepping stones to creating your own, more powerful objects!  So let’s get started with our list of requirements for the completed project.</p>

<blockquote>
  <p>Our project should consist of a trail of a finite number of colored circles that follow the mouse.  The circles will be colored randomly and should be erased beyond a certain number of circles (i.e. only store a certain number of points in the mouse’s history).</p>
</blockquote>

<p>Just like last time, let’s simplify our project and build it out in small steps.  ONWARD!</p>

<h2 id="step-1-one-in-a-row">Step 1: One in a Row</h2>

<p>Let’s simplify our requirements.  For Step 1, we’ll just do one circle, that chooses its color randomly and is right at the position of the mouse at all points.</p>

<p><img src="/img/rainbow-example1.gif" alt="One randomly colored circle" /></p>

<p>Be sure to copy your standard <code class="highlighter-rouge">index.html</code> from <a href="https://assertnotmagic.com/2017/09/16/p5-part-2-looping-targets/">last time</a> into your new project folder and create a new <code class="highlighter-rouge">sketch.js</code> file there.  Let’s fill in just the stuff that you’ve seen before, first.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">600</span><span class="p">);</span>
  <span class="nx">background</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
  <span class="nx">stroke</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="s1">'blue'</span><span class="p">);</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">mouseX</span><span class="p">,</span> <span class="nx">mouseY</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<p>None of this should be surprising or new, but, just in case, let’s step through the code.  First, we do our <code class="highlighter-rouge">setup</code>.  We create a new canvas, paint the background white, and set the pen stroke color to black (remember that in P5, the grayscale goes from 0 to 255).  Then we do our <code class="highlighter-rouge">draw</code> function, which gets repeated over and over.  Every frame, we’re re-painting the background white to effectively erase everything from the previous frame.  Then we select a fill color for our circles.  I picked blue with absolutely no pre-planning, so it’s guaranteed to be a <a href="https://xkcd.com/221/">random choice</a>.  Ha.  Ha.  And then we draw a circle with x position of <code class="highlighter-rouge">mouseX</code>, y position of <code class="highlighter-rouge">mouseY</code>, and radius of 15.  Remember that P5 provides us with the <code class="highlighter-rouge">mouseX</code> and <code class="highlighter-rouge">mouseY</code> variables automatically, so we don’t have to do any extra work there.</p>

<p>Open up <code class="highlighter-rouge">index.html</code> in the browser, and you should see a blue circle following your mouse!  Which is not <em>quite</em> what we want, but it’s close.  Ideally, we want our circle color to be an actual random value.  There’s a couple of ways to do this, but I’m going to use this as an excuse to introduce <strong>arrays</strong>.</p>

<h3 id="arrays">Arrays</h3>

<p>An array is just a collection of values, like a bunch of slots to hold variables.  They look like this:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">collection</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'bibble'</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">,</span> <span class="s1">'glorb'</span><span class="p">];</span>
</code></pre>
</div>

<p>You can declare arrays with square brackets: [].  They can hold whatever you want, and the members — or values inside — get separated by commas.  You can also store other variables inside.  You can even declare them on multiple lines if there’s too many items.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">my_favorite</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">my_brothers_nickname</span> <span class="o">=</span> <span class="s1">'potato'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">my_stuff</span> <span class="o">=</span> <span class="p">[</span>
  <span class="nx">my_favorite</span><span class="p">,</span>
  <span class="nx">my_brothers_nickname</span><span class="p">,</span>
  <span class="mf">1.4</span><span class="p">,</span>
  <span class="mi">57</span><span class="p">,</span>
  <span class="s1">'soup'</span>
<span class="p">]</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">my_stuff</span><span class="p">);</span>
<span class="c1">// [4, 'potato', 1.4, 57, 'soup']</span>
</code></pre>
</div>

<p>Notice how, even though we stored the variables in the array, it doesn’t say <code class="highlighter-rouge">[my_favorite, ...]</code>.  Similarly, if we then type:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">my_favorite</span> <span class="o">=</span> <span class="mi">28</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">my_stuff</span><span class="p">);</span>
<span class="c1">// [4, 'potato', 1.4, 57, 'soup']</span>
</code></pre>
</div>

<p>Modifying the variables doesn’t affect the array (at least, for more basic things like numbers or strings (things in quotes).  If you need to access and/or modify specific values inside the array, you can use <strong>indexing</strong>.  It works like this.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">];</span>
<span class="c1">//   Index: 0  1  2  3  4</span>
<span class="c1">// Each item in the array has an *index*</span>
<span class="c1">// or place in line.  They start counting at 0!</span>
<span class="nx">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>  <span class="c1">// Use square brackets after the array name to access.</span>
<span class="c1">// 1</span>
<span class="nx">nums</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="c1">// 4</span>
<span class="nx">nums</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="c1">// 3</span>
<span class="c1">// You can even assign values that way.</span>
<span class="nx">nums</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'BANANA'</span><span class="p">;</span>
<span class="nx">nums</span>
<span class="c1">// [1, 2, 3, 'BANANA', 5]</span>

<span class="c1">// Try assigning to indexes that don't exist!</span>
<span class="nx">nums</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'TWO BANANA!'</span>
<span class="nx">nums</span>
<span class="c1">// [1, 2, 3, 'BANANA', 5, undefined, undefined, 'TWO BANANA!']</span>
<span class="c1">// Javascript automatically creates blank entries</span>
<span class="c1">// to fill in the slack.</span>
</code></pre>
</div>

<p>Get it?  Got it?  Good.  If you’re still confused about how indices work or why they start from zero, check out <a href="https://assertnotmagic.com/2017/04/12/indexing-teaching-better/">my blog post on indexing</a>.  Anyways, we’ll do more with those in a minute.  Let’s get back to it.</p>

<h3 id="back-to-it">Back to It</h3>

<p>One benefit of <strong>arrays</strong> is that P5’s <code class="highlighter-rouge">random</code> function can be used with them!  When you pass an array to <code class="highlighter-rouge">random</code>, it will randomly choose one of the values.  We’ll use that to our advantage.  Here’s our new and improved <code class="highlighter-rouge">sketch.js</code>.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'#1B998B'</span><span class="p">,</span>
  <span class="s1">'#ED217C'</span><span class="p">,</span>
  <span class="s1">'#2D3047'</span><span class="p">,</span>
  <span class="s1">'#FFFD82'</span><span class="p">,</span>
  <span class="s1">'#FF9B71'</span>
<span class="p">];</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">600</span><span class="p">);</span>
  <span class="nx">background</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
  <span class="nx">stroke</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
  <span class="nx">fill</span><span class="p">(</span><span class="nx">random</span><span class="p">(</span><span class="nx">colors</span><span class="p">));</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">mouseX</span><span class="p">,</span> <span class="nx">mouseY</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<p>We create an array of colors (more on that in a second) at the top.  Then, when we go to pick a fill color, we pass colors to P5’s <code class="highlighter-rouge">random</code> function and we get a random one of those five colors selected!  Mission accomplished!</p>

<p>One thing that you may not have seen before is the code inside the <code class="highlighter-rouge">colors</code> array.  These are <strong>hexidecimal</strong> values, which are often used to refer to colors in a concise manner in web programming.  For a primer on what hexidecimal values are, I recommend <a href="https://medium.com/basecs/hexs-and-other-magical-numbers-9785bc26b7ee">this post by Vaidehi Joshi</a>, and also that entire series of posts.  For now, just remember two important things.</p>

<ol>
  <li>Colors can be represented by a hash (pound, hashtag, octothorpe, …) symbol followed by 6 characters that are either between 0 and 9 or A and F.  16 possible values, ergo, <strong>hexi (6) decimal (10)</strong>.</li>
  <li>You can google hex values to see what color they are, you can usually google colors to find their hex values, and most good code editors have some sort of plugin to visualize the color of a hex value.  In my case, here are the colors I chose.</li>
</ol>

<p><img src="/img/rainbow-pallete.png" alt="Pallette for this project" /></p>

<p>(Fun fact, you can create some great color pallettes using <a href="https://coolors.co/">the Coolors app</a> if you’re bad at putting colors together like I am).</p>

<h2 id="step-2-keeping-track">Step 2: Keeping Track</h2>

<p>Now we just need to keep track of our recent mouse positions to create our trail.  I’m going to do it <em>just</em> with arrays first, and then I’ll show you the last new thing to show you how much cleaner it makes things.  First, what do we need to keep track of?  A mouse X value, a mouse Y value, and possibly a color (so each circle can keep its color as long as it’s on screen).  Let’s store that data.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'#1B998B'</span><span class="p">,</span>
  <span class="s1">'#ED217C'</span><span class="p">,</span>
  <span class="s1">'#2D3047'</span><span class="p">,</span>
  <span class="s1">'#FFFD82'</span><span class="p">,</span>
  <span class="s1">'#FF9B71'</span>
<span class="p">];</span>

<span class="kd">var</span> <span class="nx">xValues</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">yValues</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">dotColors</span> <span class="o">=</span> <span class="p">[];</span>
</code></pre>
</div>

<p>Now, each <code class="highlighter-rouge">draw</code> loop, we need to add a new circle to the mix — and possibly remove one if we have too many.  If I asked you to shift all of the values in an array down one index, effectively deleting the last one, your first thought might be something like this:</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">];</span>
<span class="nx">nums</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="nx">nums</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="nx">nums</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="nx">nums</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="nx">nums</span><span class="p">;</span>
<span class="c1">// [1, 1, 2, 3, 4]</span>
</code></pre>
</div>

<p>Your second thought (possibly) would be to notice a repetitive pattern and try a <strong>for-loop</strong>.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span> <span class="nx">i</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">nums</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Both are valid, but arrays come with some nice built in <strong>methods</strong> (another word for a function that is tied to an object — more on that later).  These methods are useful utility functions that exist so we don’t have to always reinvent the wheel.  To add an item to the start of an array, use the <code class="highlighter-rouge">unshift</code> command.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">nums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">];</span>
<span class="nx">nums</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="s1">'BANANA'</span><span class="p">);</span>
<span class="c1">// ['BANANA', 1, 2, 3, 4, 5]</span>
</code></pre>
</div>

<p>To remove the last item of an array, use <code class="highlighter-rouge">pop</code>.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">nums</span><span class="p">;</span>
<span class="c1">// ['BANANA', 1, 2, 3, 4, 5]</span>
<span class="nx">nums</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
<span class="c1">// ['BANANA', 1, 2, 3, 4]</span>
</code></pre>
</div>

<p>Maybe you start to see where I’m going with this?</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'#1B998B'</span><span class="p">,</span>
  <span class="s1">'#ED217C'</span><span class="p">,</span>
  <span class="s1">'#2D3047'</span><span class="p">,</span>
  <span class="s1">'#FFFD82'</span><span class="p">,</span>
  <span class="s1">'#FF9B71'</span>
<span class="p">];</span>
<span class="kd">var</span> <span class="nx">xValues</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">yValues</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">dotColors</span> <span class="o">=</span> <span class="p">[];</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">600</span><span class="p">);</span>
  <span class="nx">background</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
  <span class="nx">stroke</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// Place current x, y, and new color value at front of array</span>
  <span class="nx">xValues</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">mouseX</span><span class="p">);</span>
  <span class="nx">yValues</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">mouseY</span><span class="p">);</span>
  <span class="nx">dotColors</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">random</span><span class="p">(</span><span class="nx">colors</span><span class="p">));</span>

  <span class="nx">background</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
  
  <span class="c1">// Draw all dots</span>
  <span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">xValues</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>    <span class="c1">// The .length command returns how many</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">count</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">fill</span><span class="p">(</span><span class="nx">dotColors</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="nx">xValues</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">yValues</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">);</span>
    
    <span class="c1">// We step through the xValues, yValues, and dotColors simultaneously!</span>
    <span class="c1">// index:  0  1  2  3  4  5  6  7  8  9  10</span>
    <span class="c1">//     x: 75 70 65 64 63 40 34 40 46 45  50</span>
    <span class="c1">//     y: 20 23 24 22 21 18 08 12 14 15  17</span>
    <span class="c1">// color:  0  2  1  4  3  2  1  0  2  1   4</span>
  <span class="p">}</span>

  <span class="c1">// If there are more than 10 dots, remove the last one</span>
  <span class="c1">// to keep the lists always at 10 values or less.</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">count</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">xValues</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
    <span class="nx">yValues</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
    <span class="nx">dotColors</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>And we’re actually done!  We’ve met all the requirements we set out for ourselves at the beginning.  However, I want to introduce one more new thing that will be slightly less error prone and easier to read.</p>

<h2 id="step-3-keeping-track-with-objects">Step 3: Keeping Track with Objects</h2>

<p>Let’s take a look at <strong>objects</strong> for a moment.</p>

<h3 id="objects">Objects</h3>

<p><strong>Objects</strong> are JavaScript’s way of keeping related data (and later, functions) all wrapped up in one package.  Right now, we’ve got three distinct pieces of data: an x value, a y value, and a color.  But, each index or data point is all clearly related.  That is to say that our program wouldn’t work if we shuffled our x array and tried to re-run the program.  Each data point has one specific x, one specific y, and one specific color.  Let’s take a look at how <strong>objects</strong> might help with this.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">datapoint</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"x"</span><span class="p">:</span> <span class="mi">125</span><span class="p">,</span> <span class="s2">"y"</span><span class="p">:</span> <span class="mi">340</span><span class="p">,</span> <span class="s2">"color"</span><span class="p">:</span> <span class="s2">"#2D3047"</span><span class="p">};</span>
</code></pre>
</div>

<p>You can create an object with squiggly brackets.  Objects are made up of <strong>keys</strong> and <strong>values</strong>.  Each pair is in the pattern <code class="highlighter-rouge"><span class="p">{</span><span class="err">key:</span><span class="w"> </span><span class="err">value</span><span class="p">}</span></code>, and key/value pairs are separated by commas like items in an array.  Another name for a basic object like this is an <strong>associative array</strong>, called such because each <strong>key</strong> in the array has an <em>associated</em> value that goes along with it.  You can think of the keys like labels that replace the indices of an array.  Similarly to an array, you can access and modify values in the object with square brackets.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">datapoint</span><span class="p">[</span><span class="s2">"x"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
<span class="nx">datapoint</span><span class="p">;</span>
<span class="c1">// {x: 42, y: 34, color: "#2D3047"}</span>
<span class="nx">datapoint</span><span class="p">[</span><span class="s2">"y"</span><span class="p">];</span>
<span class="c1">// 34</span>
</code></pre>
</div>

<p>As an extra bonus, though, there is a second way to access values in an object: the <strong>dot</strong>.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="nx">datapoint</span><span class="p">.</span><span class="nx">color</span><span class="p">;</span>
<span class="c1">// "#2D3047"</span>
<span class="nx">datapoint</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="s2">"FISHES"</span><span class="p">;</span>
<span class="nx">datapoint</span><span class="p">;</span>
<span class="c1">// {x: 42, y: "FISHES", color: "#2D3047"}</span>
</code></pre>
</div>

<p>Let’s redo our sketch using an <strong>array of objects</strong> instead of multiple arrays.</p>

<h3 id="finishing-up">Finishing Up</h3>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">tail</span> <span class="o">=</span> <span class="p">[];</span>
<span class="kd">var</span> <span class="nx">colors</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'#1B998B'</span><span class="p">,</span>
  <span class="s1">'#ED217C'</span><span class="p">,</span>
  <span class="s1">'#2D3047'</span><span class="p">,</span>
  <span class="s1">'#FFFD82'</span><span class="p">,</span>
  <span class="s1">'#FF9B71'</span>
<span class="p">]</span>

<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">createCanvas</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">600</span><span class="p">);</span>
  <span class="nx">background</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
  <span class="nx">stroke</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">background</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
  <span class="c1">// Add one tail dot object to the array</span>
  <span class="nx">tail</span><span class="p">.</span><span class="nx">unshift</span><span class="p">({</span>
    <span class="s2">"x"</span><span class="p">:</span> <span class="nx">mouseX</span><span class="p">,</span>
    <span class="s2">"y"</span><span class="p">:</span> <span class="nx">mouseY</span><span class="p">,</span>
    <span class="s2">"color"</span><span class="p">:</span> <span class="nx">random</span><span class="p">(</span><span class="nx">colors</span><span class="p">)</span>
  <span class="p">});</span>

  <span class="kd">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">tail</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">current</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">count</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Get a reference to the current object</span>
    <span class="c1">// so we don't have to type [i] each time.</span>
    <span class="nx">current</span> <span class="o">=</span> <span class="nx">tail</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
    
    <span class="nx">fill</span><span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">color</span><span class="p">);</span>
    <span class="nx">ellipse</span><span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">current</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">count</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tail</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>We didn’t change very much, but now we only have one array to keep track of, and instead of mucking around with multiple ones.  I’d like to think that using the <strong>dot</strong> method to access the values in the object is more explicit and easier to read than the previous method using indices.  Creating an ellipse with <code class="highlighter-rouge">current.x, current.y</code> looks a lot prettier in my opinion.</p>

<p>Et voila!</p>

<p><img src="/img/rainbow-final.gif" alt="Final product" /></p>

<h2 id="homework">Homework</h2>

<ol>
  <li>Research and input some more color hexes to put in our color array.</li>
  <li>Get rid of the <code class="highlighter-rouge">colors</code> array and modify the program to select a color via multiple calls to <code class="highlighter-rouge">random</code> for a random RGB color value (similar to a homework in Lesson 1).</li>
  <li>Double the size of the tail.</li>
  <li>Make it so that when you click the mouse the tail disappears.</li>
  <li>Vary the size of the circles randomly and store that in the object as well.</li>
</ol>

<hr />

<p>That’s it for this lesson!  Don’t forget to reach out if you have any questions or troubles with the homeworks!  Now that we have the full powers of arrays, objects, and for-loops, we can really get some cool things made.</p>

<p><em>Cover image credit: Huffington Post</em></p>

    <small>
        Author: Ryan Palo | Tags: 
        
        <a href="/tags/p5/">p5</a>
        
        <a href="/tags/javascript/">javascript</a>
        
        <a href="/tags/beginner/">beginner</a>
        
        <a href="/tags/tutorial/">tutorial</a>
        
    </small>

    <hr>

<!-- Footer for Homepage -->
  <div id="home-footer">
    <div id="left-home-footer">
      <!-- Featured Posts List -->
      <h2>Featured Posts</h2>
      <ul class="post-list">
        <li>
          <span class="post-meta">Jan 18, 2017</span><br />
          <a class="post-link" href="/2017/01/18/assert-not-magic/">Assert Not Magic</a>
        </li>
        
          <li>
            <span class="post-meta">Nov 27, 2017</span><br/>
            <a class="post-link" href="/2017/11/27/thunder-struct/">Thunder-Struct</a>
          </li>
        
          <li>
            <span class="post-meta">Nov 14, 2017</span><br/>
            <a class="post-link" href="/2017/11/14/cake-and-duplicates/">Cake and Duplicates</a>
          </li>
        
          <li>
            <span class="post-meta">Nov 11, 2017</span><br/>
            <a class="post-link" href="/2017/11/11/static-site-search-with-vue/">Add Search to Your Static Site with Vue</a>
          </li>
        
      </ul>
    </div>
    <div id="center-home-footer">
      <!-- Spacer -->
    </div>
    <div id="right-home-footer">
      <!-- Tags List -->
      <h2>Tags</h2>
      <p>
        
        <a href="/tags/python/" style="font-size: 54px">python | </a>
        
        <a href="/tags/django/" style="font-size: 22px">django | </a>
        
        <a href="/tags/rails/" style="font-size: 14px">rails | </a>
        
        <a href="/tags/algorithms/" style="font-size: 22px">algorithms | </a>
        
        <a href="/tags/editors/" style="font-size: 16px">editors | </a>
        
        <a href="/tags/emacs/" style="font-size: 16px">emacs | </a>
        
        <a href="/tags/ai/" style="font-size: 14px">ai | </a>
        
        <a href="/tags/r/" style="font-size: 14px">r | </a>
        
        <a href="/tags/tools/" style="font-size: 16px">tools | </a>
        
        <a href="/tags/javascript/" style="font-size: 22px">javascript | </a>
        
        <a href="/tags/not_magic/" style="font-size: 14px">not_magic | </a>
        
        <a href="/tags/soft-skills/" style="font-size: 22px">soft-skills | </a>
        
        <a href="/tags/tricks/" style="font-size: 30px">tricks | </a>
        
        <a href="/tags/vscode/" style="font-size: 14px">vscode | </a>
        
        <a href="/tags/vim/" style="font-size: 16px">vim | </a>
        
        <a href="/tags/sublime/" style="font-size: 14px">sublime | </a>
        
        <a href="/tags/puzzle/" style="font-size: 18px">puzzle | </a>
        
        <a href="/tags/bash/" style="font-size: 16px">bash | </a>
        
        <a href="/tags/math/" style="font-size: 16px">math | </a>
        
        <a href="/tags/teaching/" style="font-size: 16px">teaching | </a>
        
        <a href="/tags/ruby/" style="font-size: 26px">ruby | </a>
        
        <a href="/tags/jekyll/" style="font-size: 16px">jekyll | </a>
        
        <a href="/tags/git/" style="font-size: 18px">git | </a>
        
        <a href="/tags/physics/" style="font-size: 14px">physics | </a>
        
        <a href="/tags/fun/" style="font-size: 18px">fun | </a>
        
        <a href="/tags/scientific/" style="font-size: 14px">scientific | </a>
        
        <a href="/tags/pythonic/" style="font-size: 16px">pythonic | </a>
        
        <a href="/tags/functional/" style="font-size: 16px">functional | </a>
        
        <a href="/tags/vue/" style="font-size: 22px">vue | </a>
        
        <a href="/tags/es6/" style="font-size: 20px">es6 | </a>
        
        <a href="/tags/tutorial/" style="font-size: 30px">tutorial | </a>
        
        <a href="/tags/exercise/" style="font-size: 14px">exercise | </a>
        
        <a href="/tags/fitness/" style="font-size: 14px">fitness | </a>
        
        <a href="/tags/sysadmin/" style="font-size: 16px">sysadmin | </a>
        
        <a href="/tags/linux/" style="font-size: 14px">linux | </a>
        
        <a href="/tags/html/" style="font-size: 18px">html | </a>
        
        <a href="/tags/seo/" style="font-size: 14px">seo | </a>
        
        <a href="/tags/social/" style="font-size: 14px">social | </a>
        
        <a href="/tags/metaprogramming/" style="font-size: 14px">metaprogramming | </a>
        
        <a href="/tags/css/" style="font-size: 14px">css | </a>
        
        <a href="/tags/front-end/" style="font-size: 14px">front-end | </a>
        
        <a href="/tags/animations/" style="font-size: 14px">animations | </a>
        
        <a href="/tags/p5/" style="font-size: 18px">p5 | </a>
        
        <a href="/tags/beginner/" style="font-size: 18px">beginner | </a>
        
        <a href="/tags/encouragement/" style="font-size: 18px">encouragement | </a>
        
        <a href="/tags/not-magic/" style="font-size: 14px">not-magic | </a>
        
        <a href="/tags/screencast/" style="font-size: 14px">screencast | </a>
        
        <a href="/tags/showdev/" style="font-size: 14px">showdev | </a>
        
        <a href="/tags/interview/" style="font-size: 14px">interview | </a>
        
        <a href="/tags/performance/" style="font-size: 14px">performance | </a>
        
        <a href="/tags/editor/" style="font-size: 14px">editor | </a>
        
        <a href="/tags/workflow/" style="font-size: 14px">workflow | </a>
        
        <a href="/tags/best-practice/" style="font-size: 14px">best-practice | </a>
        
        <a href="/tags/oss/" style="font-size: 14px">oss | </a>
        
        <a href="/tags/static-site/" style="font-size: 14px">static-site | </a>
        
        <a href="/tags/big-o/" style="font-size: 14px">big-o | </a>
        
        <a href="/tags/linked-lists/" style="font-size: 14px">linked-lists | </a>
        
        <a href="/tags/design-intent/" style="font-size: 14px">design-intent | </a>
        
        <a href="/tags/struct/" style="font-size: 14px">struct | </a>
        
        <a href="/tags/browser/" style="font-size: 14px">browser | </a>
        
      </p>
    </div>
  </div>
  <hr>
  

  <p class="rss-subscribe contact">Like my stuff?  Have questions or feedback for me?  Want to mentor me or get my help with something?  <a href="/about/">Get in touch!</a>  To stay updated, subscribe <a href="/feed.xml">via RSS</a></p>



</article>
        </div>

        <footer id="main-footer">
    <div class="container">
        <p class="text-muted">&copy; Ryan Palo 2017 | All things.  Phil. 4:13</p>
    </div>
</footer>
        <!-- Scripts -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
        <script src="/js/main.js"></script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-91889165-1', 'auto');
            ga('send', 'pageview');

        </script>
        
    </body>
</html>